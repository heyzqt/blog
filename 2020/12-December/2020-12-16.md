# 知识点整理

## css3，:last-child 选择器失效的原因

在写新需求，形如下面这段代码时，希望最后一个 p 标签有背景颜色的，结果样式是这样。

```html
<!DOCTYPE html>
<html>
  <head>
    <title>last-child</title>
  </head>
  <body>
    <div class="main-box">
      <p>段落一</p>
      <p>段落二</p>
      <p>段落三</p>
      <p>段落四</p>
      <div>文字五</div>
    </div>
  </body>
  <style type="text/css">
    .main-box p:last-child {
      background-color: red;
    }
  </style>
</html>
```

![last-child1.png](./imgs/last-child1.png)

最后一个 p 标签段落四并没有显示背景色。当时就感到很奇怪，在网上一通搜索后，发现原来 last-child 生效要有 2 个条件

1. 该元素得是父元素的最后一个子元素
2. 并且得同时满足 element:last-child 条件

上面代码中，因为父元素 main-box 的最后 1 个元素不是`<p>段落四</p>`而是`<div>文字五</div>`,所以条件 1 不满足，所以样式没有生效，所以注释`<div>文字五</div>`这句话，样式就能生效了。

```html
<div class="main-box">
  <p>段落一</p>
  <p>段落二</p>
  <p>段落三</p>
  <p>段落四</p>
  <!-- <div>文字五</div> -->
</div>
```

![last-child2.png](./imgs/last-child2.png)
